
# Configuração de desenvolvimento
## Use the on-disk H2 DB in embedded file mode for local dev so startup doesn't require a running H2 server
## This uses the data/ directory alongside the project and creates files if missing.
spring.datasource.url=jdbc:h2:file:./data/agendadb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update

# Allow Flyway to baseline existing schemas during local dev runs so startup doesn't fail
spring.flyway.baseline-on-migrate=true
# If the local DB already has migrations up to V2 applied, baseline to 2 so Flyway won't re-apply them
spring.flyway.baseline-version=2
## In dev we allow migrations even if validation shows historical issues; repair should be run manually when needed
spring.flyway.validate-on-migrate=false
## For local development it's acceptable to skip Flyway to avoid blocking startup due to legacy schema issues.
## Re-enable Flyway for CI/production by removing or setting this to true.
spring.flyway.enabled=true
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=false
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.jpa.show-sql=true
# Outras configs específicas de dev

# ----------------------------------------------------------
spring.mail.default-encoding=UTF-8
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Email do gestor
gestor.email=${GESTOR_EMAIL:}

# Configurações de email SMTP
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.host=${SPRING_MAIL_HOST:}
spring.mail.port=${SPRING_MAIL_PORT:}
# ----------------------------------------------------------
