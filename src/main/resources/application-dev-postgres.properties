# Desenvolvimento com PostgreSQL Docker
# Use Docker PostgreSQL for dev instead of H2
# Dev server port (avoid conflict with prod 8080)
server.port=8081
app.url=http://localhost:8081
app.is-production=false
app.is-offline-mode=false

# PostgreSQL Connection
spring.datasource.url=jdbc:postgresql://localhost:5432/agendadb_dev
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=agenda
spring.datasource.password=agenda
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=false
spring.flyway.validate-on-migrate=true
spring.flyway.clean-on-validation-error=false

# When true, LocalDataLoader and DataLoader will populate seed data on startup (dev only)
app.reload-data=true

# In dev, don't require admin role for web UI
app.security.requireAdmin=false

# Thymeleaf cache disabled for dev
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/

# Email Configuration
spring.mail.default-encoding=UTF-8
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Use SMTP configurado pela instituição (alinha com dev-docker/prod)
app.mail.useInstitutionSmtp=true

# Email do gestor
gestor.email=${GESTOR_EMAIL:}

# Configurações de email SMTP
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.host=${SPRING_MAIL_HOST:}
spring.mail.port=${SPRING_MAIL_PORT:}
