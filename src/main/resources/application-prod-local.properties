## Local overrides for running the application in "prod" profile on a developer machine.
## Activate with: --spring.profiles.active=prod,prod-local

# Use an H2 file-backed database for local prod-like testing
spring.datasource.url=jdbc:h2:file:./data/prod;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# Disable embedded Flyway for quick local runs (migrations can be run separately)
spring.flyway.enabled=false

# Let Hibernate create/update schema locally for convenience
spring.jpa.hibernate.ddl-auto=update

# Prevent Spring SQL initialization interfering with our local H2
spring.sql.init.mode=never

# Simple dummy mail settings for local runs (e.g., use GreenMail or a local SMTP)
spring.mail.host=localhost
spring.mail.port=3025
spring.mail.username=dummy
spring.mail.password=dummy
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false
spring.mail.from=local@localhost

# Application convenience flags
app.reload-data=true
