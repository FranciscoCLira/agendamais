@startuml AgendaMais_ERD

entity Usuario {
  *id : BIGINT
  *codUsuario : VARCHAR(30)
  *senha : VARCHAR(100)
  *nivelAcessoUsuario : INT
  pessoa_id : BIGINT
}

entity Pessoa {
  *id : BIGINT
  *nomePessoa : VARCHAR(80)
  *emailPessoa : VARCHAR(150)
  *celularPessoa : VARCHAR(25)
  curriculoPessoal : VARCHAR(500)
  comentarios : VARCHAR(500)
  situacaoPessoa : CHAR(1)
  dataInclusao : DATE
  dataUltimaAtualizacao : DATE
  pais_id : BIGINT
  estado_id : BIGINT
  cidade_id : BIGINT
}

entity Local {
  *id : BIGINT
  *nomeLocal : VARCHAR(100)
  *tipoLocal : INT
  revisado : BOOLEAN
  dataInclusao : DATE
  dataUltimaAtualizacao : DATE
  localPai_id : BIGINT
}

entity Instituicao {
  *id : BIGINT
  *nomeInstituicao : VARCHAR(100)
  situacaoInstituicao : CHAR(1)
  dataUltimaAtualizacao : DATE
}

entity SubInstituicao {
  *id : BIGINT
  *nomeSubInstituicao : VARCHAR(100)
  situacaoSubInstituicao : CHAR(1)
  dataUltimaAtualizacao : DATE
  id_instituicao : BIGINT
}

entity UsuarioInstituicao {
  *id : BIGINT
  id_usuario : BIGINT
  id_instituicao : BIGINT
  sitAcessoUsuarioInstituicao : CHAR(1)
}

entity PessoaInstituicao {
  *id : BIGINT
  id_pessoa : BIGINT
  id_instituicao : BIGINT
  identificacaoPessoaInstituicao : VARCHAR(50)
  dataAssociacao : DATE
  dataUltimaAtualizacao : DATE
}

entity TipoAtividade {
  *id : BIGINT
  tituloTipoAtividade : VARCHAR(80)
  descricaoTipoAtividade : VARCHAR(250)
  id_instituicao : BIGINT
}

entity Atividade {
  *id : BIGINT
  tituloAtividade : VARCHAR(30)
  situacaoAtividade : CHAR(1)
  formaApresentacao : INT
  publicoAlvo : INT
  descricaoAtividade : VARCHAR(500)
  comentariosAtividade : VARCHAR(500)
  linkMaterialAtividade : VARCHAR(250)
  linkAtividadeOnline : VARCHAR(250)
  dataAtualizacao : DATE
  tipoAtividade_id : BIGINT
  id_solicitante : BIGINT
  id_sub_instituicao : BIGINT
}

entity Autor {
  *id : BIGINT
  funcaoAutor : INT
  situacaoAutor : CHAR(1)
  curriculoFuncaoAutor : VARCHAR(500)
  linkImgAutor : VARCHAR(250)
  linkMaterialAutor : VARCHAR(250)
  dataUltimaAtualizacao : DATE
  id_pessoa : BIGINT
}

Usuario ||--o{ Pessoa
Local ||--o{ Local
Local ||--o{ Pessoa
Instituicao ||--o{ SubInstituicao
Usuario ||--o{ UsuarioInstituicao
Instituicao ||--o{ UsuarioInstituicao
Pessoa ||--o{ PessoaInstituicao
Instituicao ||--o{ PessoaInstituicao
Instituicao ||--o{ TipoAtividade
TipoAtividade ||--o{ Atividade
Pessoa ||--o{ Atividade
SubInstituicao ||--o{ Atividade
Pessoa ||--o{ Autor

@enduml
