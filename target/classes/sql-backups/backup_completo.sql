-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "SA" SALT '294f4ec29a2abf9e' HASH '1893f60ef1265bcfa75c6b9e2ec171f57c3190ea35b74b4c4253cbd7defa2c73' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."ATIVIDADE"(
    "DATA_ATUALIZACAO" DATE,
    "FORMA_APRESENTACAO" INTEGER,
    "PUBLICO_ALVO" INTEGER,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_INSTITUICAO" BIGINT NOT NULL,
    "ID_SOLICITANTE" BIGINT,
    "ID_SUB_INSTITUICAO" BIGINT,
    "TIPO_ATIVIDADE_ID" BIGINT NOT NULL,
    "TITULO_ATIVIDADE" CHARACTER VARYING(30),
    "COMENTARIOS_ATIVIDADE" CHARACTER VARYING(255),
    "DESCRICAO_ATIVIDADE" CHARACTER VARYING(255),
    "LINK_ATIVIDADE_ON_LINE" CHARACTER VARYING(255),
    "LINK_MATERIAL_ATIVIDADE" CHARACTER VARYING(255),
    "SITUACAO_ATIVIDADE" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."ATIVIDADE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ATIVIDADE;               
CREATE CACHED TABLE "PUBLIC"."AUTOR"(
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "FUNCAO_AUTOR" INTEGER,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_PESSOA_ID" BIGINT,
    "CURRICULO_FUNCAO_AUTOR" CHARACTER VARYING(255),
    "LINK_IMG_AUTOR" CHARACTER VARYING(255),
    "LINK_MATERIAL_AUTOR" CHARACTER VARYING(255),
    "SITUACAO_AUTOR" CHARACTER VARYING(255)
);         
ALTER TABLE "PUBLIC"."AUTOR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.AUTOR;   
CREATE CACHED TABLE "PUBLIC"."INSCRICAO"(
    "DATA_INCLUSAO" DATE,
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_INSTITUICAO_ID" BIGINT,
    "ID_PESSOA_ID" BIGINT,
    "COMENTARIOS" CHARACTER VARYING(255),
    "IDENTIFICACAO_INSTITUICAO" CHARACTER VARYING(255),
    "IDENTIFICACAO_SUB_INSTITUICAO" CHARACTER VARYING(255)
);          
ALTER TABLE "PUBLIC"."INSCRICAO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.INSCRICAO;               
CREATE CACHED TABLE "PUBLIC"."INSCRICAO_TIPO_ATIVIDADE"(
    "INSCRICAO_ID" BIGINT NOT NULL,
    "TIPO_ATIVIDADE_ID" BIGINT NOT NULL
);    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.INSCRICAO_TIPO_ATIVIDADE;
CREATE CACHED TABLE "PUBLIC"."INSTITUICAO"(
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "NOME_INSTITUICAO" CHARACTER VARYING(255),
    "SITUACAO_INSTITUICAO" CHARACTER VARYING(255)
);              
ALTER TABLE "PUBLIC"."INSTITUICAO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");  
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.INSTITUICAO;             
INSERT INTO "PUBLIC"."INSTITUICAO" VALUES
(DATE '2025-07-01', 1, 'Instituto Aurora 1', 'A'),
(DATE '2025-07-02', 2, 'Instituto Luz 2', 'A'),
(DATE '2025-07-02', 3, 'Instituto Cruz 3', 'A');              
CREATE CACHED TABLE "PUBLIC"."LOG_POSTAGEM"(
    "DATA_POSTAGEM" DATE,
    "HORA_POSTAGEM" TIME(6),
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_OCORRENCIA_ATIVIDADE_ID" BIGINT
);  
ALTER TABLE "PUBLIC"."LOG_POSTAGEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LOG_POSTAGEM;            
CREATE CACHED TABLE "PUBLIC"."OCORRENCIA_ATIVIDADE"(
    "DATA_ATUALIZACAO" DATE,
    "DATA_OCORRENCIA" DATE,
    "HORA_FIM_OCORRENCIA" TIME(6),
    "HORA_INICIO_OCORRENCIA" TIME(6),
    "QTDE_PARTICIPANTES" INTEGER,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_ATIVIDADE_ID" BIGINT,
    "ID_AUTOR_ID" BIGINT,
    "ASSUNTO_DIVULGACAO" CHARACTER VARYING(255),
    "BIBLIOGRAFIA" CHARACTER VARYING(255),
    "DETALHE_DIVULGACAO" CHARACTER VARYING(255),
    "LINK_IMG_DIVULGACAO" CHARACTER VARYING(255),
    "LINK_MATERIAL_TEMA" CHARACTER VARYING(255),
    "OBS_ENCERRAMENTO" CHARACTER VARYING(255),
    "SITUACAO_OCORRENCIA" CHARACTER VARYING(255),
    "TEMA_OCORRENCIA" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."OCORRENCIA_ATIVIDADE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.OCORRENCIA_ATIVIDADE;    
CREATE CACHED TABLE "PUBLIC"."PESSOA"(
    "DATA_INCLUSAO" DATE,
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 7) NOT NULL,
    "CELULAR_PESSOA" CHARACTER VARYING(255),
    "COMENTARIOS" CHARACTER VARYING(255),
    "CURRICULO_PESSOAL" CHARACTER VARYING(255),
    "EMAIL_PESSOA" CHARACTER VARYING(255),
    "NOME_CIDADE_PESSOA" CHARACTER VARYING(255),
    "NOME_ESTADO_PESSOA" CHARACTER VARYING(255),
    "NOME_PAIS_PESSOA" CHARACTER VARYING(255),
    "NOME_PESSOA" CHARACTER VARYING(255),
    "SITUACAO_PESSOA" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."PESSOA" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8C" PRIMARY KEY("ID");      
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.PESSOA;  
INSERT INTO "PUBLIC"."PESSOA" VALUES
(DATE '2025-07-01', DATE '2025-07-01', 1, '+55-11-99999-4444', 'sem comentarios', 'sem curriculo', 'carlos@email.com', 'Sao Bernardo', 'SP', 'Brasil ', 'Carlos Silva admin01', 'A'),
(DATE '2025-07-02', DATE '2025-07-02', 2, '+55-11-99999-4444', 'sem comentarios', 'sem curriculo', 'admin20@hotmail.com', 'Mato Grosso', 'MT', 'Brasil', 'admin20', 'A'),
(DATE '2025-07-02', DATE '2025-07-02', 3, '+55-11-77777-6666', 'sem', 'sem', 'admin30@gmail.com', 'Curibiba', 'PB', 'Brasil', 'admin30', 'A'),
(DATE '2025-07-02', DATE '2025-07-02', 4, '+55-11-99999-5555', '', '', 'admin40@hotmail.com', U&'S\00e3o Luiz', 'MA', 'Brasil', 'admin40', 'A'),
(DATE '2025-07-03', DATE '2025-07-03', 5, '+55-11-9999-8888', '', '', 'admin@exemplo.com', 'Rio', 'RJ', 'Brasil', 'admin80', 'A'),
(DATE '2025-07-03', DATE '2025-07-03', 6, '+55-11-99999-9999', 'sem comentarios', U&'n\00e3o tem ainda ', 'admin150@teste.com', U&'S\00e3o Bernardo do Campo', 'PE', 'Brasil', 'admin150', 'A');
CREATE CACHED TABLE "PUBLIC"."PESSOA_INSTITUICAO"(
    "DATA_AFILIACAO" DATE,
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "INSTITUICAO_ID" BIGINT,
    "PESSOA_ID" BIGINT,
    "IDENTIFICACAO_PESSOA_INSTITUICAO" CHARACTER VARYING(20)
);         
ALTER TABLE "PUBLIC"."PESSOA_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");           
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PESSOA_INSTITUICAO;      
INSERT INTO "PUBLIC"."PESSOA_INSTITUICAO" VALUES
(NULL, DATE '2025-07-02', 1, 1, 2, 'admin01'),
(DATE '2025-06-30', DATE '2025-07-02', 2, 1, 3, 'admin20 inst');            
CREATE CACHED TABLE "PUBLIC"."PESSOA_SUB_INSTITUICAO"(
    "DATA_AFILIACAO" DATE,
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "INSTITUICAO_ID" BIGINT,
    "PESSOA_ID" BIGINT,
    "SUB_INSTITUICAO_ID" BIGINT,
    "IDENTIFICACAO_PESSOA_SUB_INSTITUICAO" CHARACTER VARYING(20)
);              
ALTER TABLE "PUBLIC"."PESSOA_SUB_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3E" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PESSOA_SUB_INSTITUICAO;  
CREATE CACHED TABLE "PUBLIC"."SUB_INSTITUICAO"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DATA_ULTIMA_ATUALIZACAO" DATE,
    "NOME_SUB_INSTITUICAO" CHARACTER VARYING(255),
    "SITUACAO_SUB_INSTITUICAO" CHARACTER VARYING(255),
    "INSTITUICAO_ID" BIGINT
);   
ALTER TABLE "PUBLIC"."SUB_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SUB_INSTITUICAO;         
CREATE CACHED TABLE "PUBLIC"."TIPO_ATIVIDADE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DESCRICAO_TIPO_ATIVIDADE" CHARACTER VARYING(255),
    "TITULO_TIPO_ATIVIDADE" CHARACTER VARYING(255)
);      
ALTER TABLE "PUBLIC"."TIPO_ATIVIDADE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_89" PRIMARY KEY("ID");              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TIPO_ATIVIDADE;          
CREATE CACHED TABLE "PUBLIC"."USUARIO"(
    "NIVEL_ACESSO_USUARIO" INTEGER NOT NULL,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 7) NOT NULL,
    "PESSOA_ID" BIGINT NOT NULL,
    "COD_USUARIO" CHARACTER VARYING(25) NOT NULL,
    "SENHA" CHARACTER VARYING(255) NOT NULL
);          
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_22E0" PRIMARY KEY("ID");   
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO; 
INSERT INTO "PUBLIC"."USUARIO" VALUES
(5, 1, 1, 'admin01', 'admin01'),
(1, 2, 2, 'admin20', 'admin20'),
(1, 3, 3, 'admin30', 'admin30'),
(1, 4, 4, 'admin40', 'admin40'),
(1, 5, 5, 'admin80', 'admin80'),
(1, 6, 6, 'admin150', 'admin150');           
CREATE CACHED TABLE "PUBLIC"."USUARIO_INSTITUICAO"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "INSTITUICAO_ID" BIGINT,
    "USUARIO_ID" BIGINT,
    "SIT_ACESSO_USUARIO_INSTITUICAO" CHARACTER VARYING(255)
);         
ALTER TABLE "PUBLIC"."USUARIO_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6E" PRIMARY KEY("ID");         
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO_INSTITUICAO;     
INSERT INTO "PUBLIC"."USUARIO_INSTITUICAO" VALUES
(1, 1, 1, 'A');            
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_22" UNIQUE("PESSOA_ID");   
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_22E" UNIQUE("COD_USUARIO");
ALTER TABLE "PUBLIC"."OCORRENCIA_ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FK49BM0CH36HIN75INV5YUF9U9S" FOREIGN KEY("ID_ATIVIDADE_ID") REFERENCES "PUBLIC"."ATIVIDADE"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FKE9FY270XN12KVUB7PSA4E08F3" FOREIGN KEY("TIPO_ATIVIDADE_ID") REFERENCES "PUBLIC"."TIPO_ATIVIDADE"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FKORSQNO8WXED7FN56QVDS3FFVO" FOREIGN KEY("ID_SOLICITANTE") REFERENCES "PUBLIC"."PESSOA"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."PESSOA_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKQCF6VHANS1O9DXSNEDXTWUPWC" FOREIGN KEY("INSTITUICAO_ID") REFERENCES "PUBLIC"."INSTITUICAO"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."INSCRICAO" ADD CONSTRAINT "PUBLIC"."FKQWQ5BJHNTLHWHMEK9VJMXS6M7" FOREIGN KEY("ID_INSTITUICAO_ID") REFERENCES "PUBLIC"."INSTITUICAO"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."INSCRICAO_TIPO_ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FK9EQNYI54B96J9YUOOL629U684" FOREIGN KEY("INSCRICAO_ID") REFERENCES "PUBLIC"."INSCRICAO"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."PESSOA_SUB_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKTM0RG6EW1RHIIWTF4FBNM2G8N" FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."USUARIO_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKAHPT8WIGVFCVCPWTANNDWB8VI" FOREIGN KEY("INSTITUICAO_ID") REFERENCES "PUBLIC"."INSTITUICAO"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FKE5FGYSXQ91IP284YY2M8O515K" FOREIGN KEY("ID_INSTITUICAO") REFERENCES "PUBLIC"."INSTITUICAO"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."PESSOA_SUB_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKVTRVXLDTU33B2VYUPSKTEAYG" FOREIGN KEY("INSTITUICAO_ID") REFERENCES "PUBLIC"."INSTITUICAO"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."SUB_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKRNY1WPTSDYFBABLRWPKJW1P9W" FOREIGN KEY("INSTITUICAO_ID") REFERENCES "PUBLIC"."INSTITUICAO"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."FK9KJBCKBNH9RYOSEPHJPBOJISA" FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."PESSOA_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKKLHG7JQ9CD3GFQ6NV26KVCI1Q" FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."INSCRICAO_TIPO_ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FKJQMW8E9F7EIN632DEICUHKCF7" FOREIGN KEY("TIPO_ATIVIDADE_ID") REFERENCES "PUBLIC"."TIPO_ATIVIDADE"("ID") NOCHECK;    
ALTER TABLE "PUBLIC"."USUARIO_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FKRU9T0PUVIK22TA64EME1LDBUK" FOREIGN KEY("USUARIO_ID") REFERENCES "PUBLIC"."USUARIO"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."INSCRICAO" ADD CONSTRAINT "PUBLIC"."FKQJWQKVFM92N3XXM8SN1J861KR" FOREIGN KEY("ID_PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."OCORRENCIA_ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FK40HXPHCH5AY8YBP2HGT9BSB1X" FOREIGN KEY("ID_AUTOR_ID") REFERENCES "PUBLIC"."AUTOR"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."AUTOR" ADD CONSTRAINT "PUBLIC"."FKGD6H489GK3JO48U5EV9EQN73Q" FOREIGN KEY("ID_PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID") NOCHECK;    
ALTER TABLE "PUBLIC"."LOG_POSTAGEM" ADD CONSTRAINT "PUBLIC"."FKS74KRI7HDIH2KLVAC7BMYVGG7" FOREIGN KEY("ID_OCORRENCIA_ATIVIDADE_ID") REFERENCES "PUBLIC"."OCORRENCIA_ATIVIDADE"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."ATIVIDADE" ADD CONSTRAINT "PUBLIC"."FKRCWGCCVQ1DLSD47CI7RHWDEA4" FOREIGN KEY("ID_SUB_INSTITUICAO") REFERENCES "PUBLIC"."SUB_INSTITUICAO"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."PESSOA_SUB_INSTITUICAO" ADD CONSTRAINT "PUBLIC"."FK33GG8R00EOKFXLWWV8GMA6NYK" FOREIGN KEY("SUB_INSTITUICAO_ID") REFERENCES "PUBLIC"."SUB_INSTITUICAO"("ID") NOCHECK;    
